"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[907],{65907:function(e,t,i){i.r(t),i.d(t,{default:function(){return m}});var o=function(){var e=this,t=e._self._c;return t("div",[t("a-form",{attrs:{"label-col":{span:4},"wrapper-col":{span:16},form:e.form},on:{submit:e.onSubmit}},[t("a-form-item",{attrs:{label:e.$t("certification.uid")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["uids",{rules:[{required:!0,message:"请输入uid"}]}],expression:"[\n          `uids`,\n          {\n            rules: [\n              {\n                required: true,\n                message: '请输入uid',\n              },\n            ],\n          },\n        ]"}],attrs:{type:"text",placeholder:e.$t("certification.uid.placeholder")}})],1),t("a-form-item",{attrs:{label:e.$t("certification.vedio.check")}},[t("a-switch",{attrs:{checked:e.openVedio},on:{change:e.onVedioChange}})],1),t("a-form-item",{attrs:{label:e.$t("certification.sale.check")}},[t("a-switch",{attrs:{checked:e.openSale},on:{change:e.onSaleChange}})],1),t("a-form-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("操作")]),t("a-button",{staticStyle:{"margin-left":"10px"},on:{click:e.resetForm}},[e._v("重置")])],1)],1),t("a-table",{attrs:{dataSource:e.dataSource,columns:e.columns,bordered:"",loading:e.tableLoading},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.tableTitle))]},proxy:!0},{key:"isCertification",fn:function(i){return["success"===i.isCertification?t("a-icon",{staticStyle:{color:"#52c41a"},attrs:{type:"check-circle",theme:"filled"}}):e._e(),"success"!==i.isCertification?t("span",[e._v(e._s(i.isCertification))]):e._e()]}},{key:"openVedio",fn:function(e){return[t("a-icon","success"===e?{staticStyle:{color:"#52c41a"},attrs:{type:"check-circle",theme:"filled"}}:{staticStyle:{color:"#a9a9a9"},attrs:{type:"close-circle",theme:"filled"}})]}},{key:"openSale",fn:function(e){return[t("a-icon","success"===e?{staticStyle:{color:"#52c41a"},attrs:{type:"check-circle",theme:"filled"}}:{staticStyle:{color:"#a9a9a9"},attrs:{type:"close-circle",theme:"filled"}})]}}])})],1)},a=[],n=(i(7672),i(61446)),l=(i(21249),i(92222),i(76166)),r="http://ops.test.ximalaya.com/ximalive-qa",c={addVprofileVerify:"/AddVprofileVerify"};function s(e){return(0,l.ZP)({url:r+c.addVprofileVerify,method:"POST",data:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=UTF-8","X-Requested-With":"XMLHttpRequest"}})}var d={name:"Certification",data:function(){return{form:this.$form.createForm(this,{name:"Certification"}),openVedio:!1,openSale:!1,uids:"",dataSource:[],tableTitle:"请求uid数量：0，成功数量：0",tableLoading:!1,columns:[{title:"uid",dataIndex:"uid",key:"uid",align:"center"},{title:"实名认证",slots:{title:"isCertification"},scopedSlots:{customRender:"isCertification"},align:"center"},{title:"视频权限",dataIndex:"openVedio",slots:{title:"openVedio"},scopedSlots:{customRender:"openVedio"},align:"center"},{title:"卖货权限",dataIndex:"openSale",slots:{title:"openSale"},scopedSlots:{customRender:"openSale"},align:"center"}]}},methods:{onVedioChange:function(){this.openVedio=!this.openVedio},onSaleChange:function(){this.openSale=!this.openSale},resetForm:function(){this.form.resetFields(),this.openVedio=!1,this.openSale=!1,this.dataSource=[],this.tableTitle=""},onSubmit:function(e){e.preventDefault();var t=this;this.form.validateFields((function(e,i){e||(t.uids=null===i||void 0===i?void 0:i.uids,t.uids&&(t.dataSource=[],t.tableLoading=!0,s({uid:t.uids,isOpenlvb:t.openVedio,isOpengoods:t.openSale}).then((function(e){if(200===e.code&&null!==e&&void 0!==e&&e.data){var i,o=0;null===e||void 0===e||null===(i=e.data)||void 0===i||i.map((function(e,i){t.dataSource.push({key:i+1+"",uid:null===e||void 0===e?void 0:e.uid,isCertification:null===e||void 0===e?void 0:e.profileVerify,openSale:null===e||void 0===e?void 0:e.OpenGoods,openVedio:null===e||void 0===e?void 0:e.Openlvb}),null!==e&&void 0!==e&&e.profileVerify&&(o+=1)})),t.tableTitle="请求uid数量：".concat(t.dataSource.length,"，成功数量：").concat(o)}else n.Z.error((null===e||void 0===e?void 0:e.msg)||"出错了，请@张柔"),t.tableTitle=(null===e||void 0===e?void 0:e.msg)||"出错了，请@张柔";t.tableLoading=!1})).catch((function(e){n.Z.error((null===e||void 0===e?void 0:e.msg)||"出错了，请@张柔"),t.tableTitle=(null===e||void 0===e?void 0:e.msg)||"出错了，请@张柔",t.tableLoading=!1}))))}))}}},u=d,p=i(1001),f=(0,p.Z)(u,o,a,!1,null,"5d9e7140",null),m=f.exports}}]);